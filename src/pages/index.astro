---
import Layout from "../layouts/Layout.astro";
import Hero from "@/components/Hero.astro";
import Stats from "@/components/Stats.astro";
import Services from "@/components/Services.astro";
import About from "@/components/About.astro";
import Testimonials from "@/components/Testimonials.astro";
import Contact from "@/components/Contact.astro";
import { getCollection } from "astro:content";

const siteData = await getCollection("siteCollection");
const siteInfo = siteData.map((site) => site.data);
const site = siteInfo[0];
---

<Layout>
  <Hero />
  <Stats stats={site.stats} />
  <Services
    serviceTitle={site.serviceTitle}
    serviceSubtitle={site.serviceSubtitle}
    servicesList={site.servicesList}
  />
  <About
    image={site.image}
    name={site.name}
    description={site.description}
    aboutList={site.aboutList}
  />
  <Testimonials
    testimonialsTitle={site.testimonialsTitle}
    testimonials={site.testimonials}
  />
  <Contact
    contact={site.contact}
    timmingsTitle={site.timmingsTitle}
    timmings={site.timmings}
  />
</Layout>
